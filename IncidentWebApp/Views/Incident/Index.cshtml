@model IncidentWebApp.Models.Incident.IncidentListModel

@{
    ViewBag.Title = "Incidents List";
}

<div class="panel panel-info">    
    <div class="panel-heading"><span class="glyphicon glyphicon-calendar"></span>&nbsp; Incident List</div>
    <div class="panel-body">
        <p>
            @Html.ActionLink("Create New", "Create", null, new { @class = "btn btn-primary btn-sm" })
        </p>
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <tr>
                    <th>
                        Incident Name
                    </th>
                    <th>
                        Created Date
                    </th>
                    <th>
                        Number of People
                    </th>
                    <th>
                        Is Urgent
                    </th>
                    <th>
                        Type
                    </th>
                    <th></th>
                </tr>

                @foreach (var item in Model.Incidents)
            {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.IncidentName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CreatedDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NumberPeople)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.IsUrgent)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.IncidentType)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.Id }, new { @class = "btn btn-primary btn-sm", @style = "width:55px;" }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.Id }, new { @class = "btn btn-warning btn-sm", @style = "width:55px;", OnClick = "return window.confirm('Are you sure you want to delete this incident?');" })
                </td>
            </tr>
            }
                @if (!Model.Incidents.Any())
            {
            <tr>
                <td colspan="6">No information</td>
            </tr>
            }

            </table>
        </div>
        </div>
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
